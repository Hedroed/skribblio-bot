(function(e){function t(t){for(var a,i,s=t[0],c=t[1],u=t[2],d=0,h=[];d<s.length;d++)i=s[d],r[i]&&h.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a3c2b":"9ab3f3f2","chunk-2d0a3ef7":"4a3ab7be","chunk-2d0abc3c":"e70825fb","chunk-2d0ac59f":"7a5c24a0","chunk-2d0b8eb1":"0e40fea0","chunk-2d0ba916":"67a78621","chunk-2d0bd445":"4bd5db00","chunk-2d0c035e":"59b58727","chunk-2d0c1558":"fd84d7e0","chunk-2d0d607c":"ed61b520","chunk-2d0da8d4":"0f097bce","chunk-2d0de954":"52ae0646","chunk-2d0e6731":"749526da","chunk-2d20736a":"b7703698","chunk-2d207949":"9b8c91e2","chunk-2d20fb68":"8f0aafa2","chunk-2d2167e3":"57be40b1","chunk-2d21a9a9":"e1b8f086","chunk-2d21e17b":"1fcda803","chunk-2d222401":"e27f8f52","chunk-2d22bf2d":"1948b015","chunk-2d22c494":"19799be1","chunk-2d22c53c":"749ecab5","chunk-2d22dbf6":"74c93ee9"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=r[e]=[t,a]});t.push(n[2]=a);var o,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(e),o=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");i.type=a,i.request=o,n[1](i)}r[e]=void 0}};var d=setTimeout(function(){o({type:"timeout",target:u})},12e4);u.onerror=u.onload=o,c.appendChild(u)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("c21b"),r=n.n(a);r.a},"12f6":function(e,t,n){"use strict";var a=n("5f30"),r=n.n(a);r.a},2:function(e,t){},2424:function(e,t,n){var a={"./words-02.json":["a0ae","chunk-2d207949"],"./words-03.json":["85ef","chunk-2d0de954"],"./words-04.json":["3174","chunk-2d0b8eb1"],"./words-05.json":["bbe8","chunk-2d21a9a9"],"./words-06.json":["418c","chunk-2d0c035e"],"./words-07.json":["f0c0","chunk-2d22bf2d"],"./words-08.json":["b598","chunk-2d20fb68"],"./words-09.json":["c363","chunk-2d2167e3"],"./words-10.json":["03fd","chunk-2d0a3ef7"],"./words-11.json":["4633","chunk-2d0c1558"],"./words-12.json":["f98e","chunk-2d22dbf6"],"./words-13.json":["040a","chunk-2d0a3c2b"],"./words-14.json":["18bd","chunk-2d0ac59f"],"./words-15.json":["1755","chunk-2d0abc3c"],"./words-16.json":["d3a7","chunk-2d21e17b"],"./words-17.json":["9994","chunk-2d0e6731"],"./words-18.json":["6ba3","chunk-2d0da8d4"],"./words-19.json":["ce8a","chunk-2d222401"],"./words-20.json":["a027","chunk-2d20736a"],"./words-21.json":["2aee","chunk-2d0bd445"],"./words-22.json":["f381","chunk-2d22c53c"],"./words-23.json":["f31b","chunk-2d22c494"],"./words-26.json":["718d","chunk-2d0d607c"],"./words-27.json":["3883","chunk-2d0ba916"]};function r(e){var t=a[e];return t?n.e(t[1]).then(function(){var e=t[0];return n.t(e,3)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return Object.keys(a)},r.id="2424",e.exports=r},"2be1":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return 0==e.state?n("Selector",{on:{submit:e.choosePlayer}}):n("Main",{attrs:{player:e.player,username:e.player.username,skin:e.player.skin},on:{reset:e.reset}})},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("div",{staticClass:"selector"},[n("span",[e._v("Avatar:")]),n("div",{staticClass:"skin"},[n("div",{staticClass:"left"},[n("canvas",{ref:"canvas",attrs:{width:"150",height:"150"}})]),n("div",{staticClass:"right"},[n("form",{staticClass:"picker",on:{change:e.updateIcon}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.a,expression:"a"}],attrs:{type:"number"},domProps:{value:e.a},on:{input:function(t){t.target.composing||(e.a=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.b,expression:"b"}],attrs:{type:"number"},domProps:{value:e.b},on:{input:function(t){t.target.composing||(e.b=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.c,expression:"c"}],attrs:{type:"number"},domProps:{value:e.c},on:{input:function(t){t.target.composing||(e.c=t.target.value)}}}),n("button",{on:{click:function(t){return t.preventDefault(),e.randomIcon(t)}}},[e._v("Random")])])])]),n("form",{staticClass:"name",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("label",{attrs:{for:"username"}},[e._v("Username: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:"patrick",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("label",{attrs:{for:"lobby"}},[e._v("Lobby (optional): ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lobby,expression:"lobby"}],attrs:{id:"lobby",type:"text",placeholder:"---"},domProps:{value:e.lobby},on:{input:function(t){t.target.composing||(e.lobby=t.target.value)}}}),n("input",{attrs:{type:"submit",value:"Go",invalid:""}})])])])},s=[],c=(n("6b54"),[[0,0,0],[3,0,2],[2,1,0],[1,2,2],[0,3,0],[3,3,2],[2,0,1],[1,1,3],[0,2,1],[3,2,3],[2,3,1],[1,0,0],[0,1,2],[3,1,0],[2,2,2],[1,3,0],[0,0,3],[3,0,1]]),u=function(e){return"#"+c[e].map(function(e){return(40*e+110).toString(16)}).join("")},d=function(e,t,n){var a=h(e,t,n),r=a.speedA,o=a.speedB,i=a.color,s=document.createElement("canvas");s.width=100,s.height=100;var c=s.getContext("2d");c.fillStyle="#efefef",c.strokeStyle=i,c.fillRect(0,0,100,100),c.beginPath(),c.lineWidth=2;for(var u=Math.floor(Math.min(r,o)/99*6)+1,d=0;d<=720;d+=u){var l=Math.floor(d*(r/10+1))%360,f=Math.floor(d*(o/10+1))%360,b=l*Math.PI/180,m=(Math.cos(b)+1)/2,p=f*Math.PI/180,v=(Math.sin(p)+1)/2;0==d?c.moveTo(5+90*m,5+90*v):c.lineTo(5+90*m,5+90*v)}return c.stroke(),s.toDataURL()},l=function(e,t,n,a){var r=h(t,n,a),o=r.speedA,i=r.speedB,s=r.color;e.width=100,e.height=100;var c=e.getContext("2d");c.fillStyle="#efefef",c.strokeStyle=s,c.fillRect(0,0,100,100),c.beginPath(),c.lineWidth=2;var u={killSwitch:!1,ctx:c,stop:function(){this.killSwitch=!0},draw:function(e,t){var n=this;if(!this.killSwitch){var a=Math.floor(e*(o/10+1))%360,r=Math.floor(e*(i/10+1))%360,s=a*Math.PI/180,c=(Math.cos(s)+1)/2,u=r*Math.PI/180,d=(Math.sin(u)+1)/2;0==e?this.ctx.moveTo(5+90*c,5+90*d):this.ctx.lineTo(5+90*c,5+90*d),this.ctx.stroke(),e>360||isNaN(e)||setTimeout(function(){return n.draw(e+t,t)},5)}}};return u.draw(0,2),u},h=function(e,t,n){var a=Math.min(30,Math.max(0,e))/30*100,r=Math.min(23,Math.max(0,t))/23*100,o=Math.min(17,Math.max(0,n)),i=u(o);return{speedA:a,speedB:r,color:i}},f={name:"Selector",data:function(){var e=JSON.parse(localStorage.getItem("skin"))||[0,0,0];return{username:localStorage.getItem("name")||"",lobby:"",a:e[0],b:e[1],c:e[2],drawing:void 0}},methods:{submit:function(){localStorage.setItem("name",this.username),localStorage.setItem("skin",JSON.stringify([this.a,this.b,this.c])),this.$emit("submit",{username:this.username,skin:[this.a,this.b,this.c],lobby:this.lobby})},updateIcon:function(){this.drawing&&this.drawing.stop(),this.drawing=l(this.$refs.canvas,this.a,this.b,this.c)},randomIcon:function(){this.a=Math.floor(31*Math.random()),this.b=Math.floor(24*Math.random()),this.c=Math.floor(18*Math.random()),this.updateIcon()}},mounted:function(){this.updateIcon()}},b=f,m=(n("92b4"),n("2877")),p=Object(m["a"])(b,i,s,!1,null,"32116a7a",null);p.options.__file="Selector.vue";var v=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main",attrs:{id:"app"}},[n("h1",{staticClass:"title"},[e._v("Skribbl.io Ruin The Fun")]),n("div",{staticClass:"container"},[n("div",{staticClass:"pannel"},[n("Debug",{attrs:{messages:e.debugs}}),n("div",{staticClass:"word-suggestions"}),e._m(0),e._m(1)],1),n("div",{staticClass:"center draw"},[n("h2",{staticClass:"draw--guess-word"},[e._v(e._s(e.guess_word))]),n("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:"800",height:"600"}})]),e._m(2)])])},w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"change-room"},[n("input",{staticClass:"change-room--input",attrs:{type:"text",placeholder:"Room ID or URL"}}),n("input",{staticClass:"change-room--submit",attrs:{type:"submit",value:">"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"votekick"},[n("input",{staticClass:"votekick--submit",attrs:{type:"submit",value:"Votekick"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pannel chat"},[n("div",{staticClass:"chat-display"},[n("div",{staticClass:"chat-message"},[n("span",{staticClass:"chat-message--name"},[e._v("INFO")]),n("span",{staticClass:"chat-message--message"},[e._v("Type !help to list available commands.")])])]),n("form",{staticClass:"chat-input",attrs:{id:"chat-form"}},[n("input",{attrs:{type:"text",name:"chat-input",placeholder:"Say something here..."}})])])}],y=(n("6762"),n("2fdb"),n("7514"),n("7f7f"),n("8afe"));n("1c4c"),n("f576"),n("28a5");function k(e){var t=e.length.toString(),n=e.split(" ").length,a=e.split("-").length,r=e.split("").map(function(e,t){return{letter:e,index:t}}).filter(function(e){return"_"!==e.letter});return C(t).then(function(e){return e.default.filter(function(e){var t=r.every(function(t){return e[t.index]===t.letter}),o=e.split(" ").length===n,i=e.split("-").length===a;return t&&i&&o})})}function C(e){return n("2424")("./words-".concat(e.padStart(2,"0"),".json"))}var _=k,M=(n("ac4d"),n("8a81"),n("ac6a"),n("c665")),j=n("aa9a"),x=(n("4917"),n("6aa2"),function(){function e(e,a,r,o,i,s,c){var u,d,l=e.length,h=[],f=4*(a+r*s),b=f,m=f,p=4*s,v=[e[f],e[f+1],e[f+2],e[f+3]];if(!t(f,v,o,e,l,i))return!1;h.push(f);while(h.length)if(f=h.pop(),n(f,v,o,e,l,i)){b=f,m=f,d=parseInt(f/p)*p,u=d+p;while(d<m&&d<(m-=4)&&n(m,v,o,e,l,i));while(u>b&&u>(b+=4)&&n(b,v,o,e,l,i));for(var g=m+4;g<b;g+=4)g-p>=0&&t(g-p,v,o,e,l,i)&&h.push(g-p),g+p<l&&t(g+p,v,o,e,l,i)&&h.push(g+p)}return e}function t(e,t,n,a,r,o){return!(e<0||e>=r)&&(0===a[e+3]&&n.a>0||!(Math.abs(t[3]-n.a)<=o&&Math.abs(t[0]-n.r)<=o&&Math.abs(t[1]-n.g)<=o&&Math.abs(t[2]-n.b)<=o)&&(t[3]===a[e+3]&&t[0]===a[e]&&t[1]===a[e+1]&&t[2]===a[e+2]||Math.abs(t[3]-a[e+3])<=255-o&&Math.abs(t[0]-a[e])<=o&&Math.abs(t[1]-a[e+1])<=o&&Math.abs(t[2]-a[e+2])<=o))}function n(e,n,a,r,o,i){return!!t(e,n,a,r,o,i)&&(r[e]=a.r,r[e+1]=a.g,r[e+2]=a.b,r[e+3]=a.a,!0)}function a(t,n,a,r,o,i,s){if(!t instanceof Uint8ClampedArray)throw new Error("data must be an instance of Uint8ClampedArray");if(isNaN(i)||i<1)throw new Error("argument 'width' must be a positive integer");if(isNaN(s)||s<1)throw new Error("argument 'height' must be a positive integer");if(isNaN(n)||n<0)throw new Error("argument 'x' must be a positive integer");if(isNaN(a)||a<0)throw new Error("argument 'y' must be a positive integer");if(i*s*4!==t.length)throw new Error("width and height do not fit Uint8ClampedArray dimensions");var c=Math.floor(n),u=Math.floor(a);return c!==n&&console.warn("x truncated from",n,"to",c),u!==a&&console.warn("y truncated from",a,"to",u),o=isNaN(o)?0:Math.min(Math.abs(Math.round(o)),254),e(t,c,u,r,o,i,s)}var r=function(e){var t=document.createElement("div"),n={r:0,g:0,b:0,a:0};t.style.color=e,t.style.display="none",document.body.appendChild(t);var a=window.getComputedStyle(t,null).color;document.body.removeChild(t);var r=/([\.\d]+)/g,o=a.match(r);return o&&o.length>2&&(n.r=parseInt(o[0])||0,n.g=parseInt(o[1])||0,n.b=parseInt(o[2])||0,n.a=Math.round(255*(parseFloat(o[3])||1))),n};function o(e,t,n,o,i,s,c){var u=this,d=r(this.fillStyle);o=isNaN(o)?0:o,i=isNaN(i)?0:i,s=!isNaN(s)&&s?Math.min(Math.abs(s),u.canvas.width):u.canvas.width,c=!isNaN(c)&&c?Math.min(Math.abs(c),u.canvas.height):u.canvas.height;var l=u.getImageData(o,i,s,c),h=l.data,f=l.width,b=l.height;f>0&&b>0&&(a(h,e,t,d,n,f,b),u.putImageData(l,o,i))}"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.fillFlood=o)}(),["#FFF","#000","#C1C1C1","#4C4C4C","#EF130B","#740B07","#FF7100","#C23800","#FFE400","#E8A200","#00CC00","#005510","#00B2FF","#00569E","#231FD3","#0E0865","#A300BA","#550069","#D37CAA","#A75574","#A0522D","#63300D"]),S=function(){function e(t){Object(M["a"])(this,e),this.canvas=t,this.ctx=t.getContext("2d")}return Object(j["a"])(e,[{key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawCommands",value:function(e){var t=this.ctx,n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;if(0==s[0]){var c=x[s[1]],u=s[2],d=s[3],l=s[4],h=s[5],f=s[6];t.beginPath(),t.lineWidth=u,t.strokeStyle=c,t.lineJoin=t.lineCap="round",t.quadraticCurveTo(d,l,h,f),t.stroke(),t.closePath()}else if(1==s[0]){var b="#FFF",m=s[1],p=s[2],v=s[3],g=s[4],w=s[5];t.beginPath(),t.lineWidth=m,t.strokeStyle=b,t.lineJoin=t.lineCap="round",t.quadraticCurveTo(p,v,g,w),t.stroke(),t.closePath()}else if(2==s[0]){var y=x[s[1]],k=s[2],C=s[3];t.fillStyle=y,t.fillFlood(k,C,32)}}}catch(e){a=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}}]),e}(),N=n("8055"),P=n.n(N),E=function(e,t){var n=t._c;return n("aside",[n("h3",[t._v("[ * ] Debug")]),n("div",{staticClass:"messages"},t._l(t.props.messages,function(e,a){return n("div",{key:a},[t._v(t._s(e))])}))])},I=[],O={},F=Object(m["a"])(O,E,I,!0,null,null,null);F.options.__file="Debug.vue";var D=F.exports,A={name:"Main",components:{Debug:D},props:{username:String,skin:Array},data:function(){return{guess_word:"???",makeIcon:d,drawer:void 0,debugs:[]}},methods:{debug:function(){var e=Array.from(arguments).join(" ");console.log("debug",e),this.debugs.push(e)}},mounted:function(){var e=this;_("___________o_").then(function(t){return e.guess_word=t.pop()});var t=this.$refs.canvas;console.log(t),t.width=800,t.height=600,this.drawer=new S(t);var n=[],a=P()("https://skribbl.io");a.on("connect",function(){e.debug("Connected");var t=e.username;e.debug("Je m'appelle",t),a.emit("userData",{name:t,code:"",avatar:Object(y["a"])(e.skin).concat([-1]),join:"skgVXxaIJu12CFgevHAL",language:"French",createPrivate:!1})}),a.on("login",function(){e.debug("Logged")}),a.on("lobbyConnected",function(t){e.debug("Players",t.players.length,t.players.map(function(e){return e.name}).join(", ")),n=t.players,e.drawer.drawCommands(t.drawCommands)}),a.on("kicked",function(){e.debug("Sorry Kicked")}),a.on("chat",function(t){var r=n.find(function(e){return e.id===t.id});e.debug(r.name,t.message),t.message.toUpperCase().includes("BOT")&&"Je suis pas un bot..."!=t.message&&setTimeout(function(){a.emit("chat","Je suis pas un bot...")},2500)}),a.on("lobbyCurrentWord",function(t){e.debug("new word",t)}),a.on("lobbyReveal",function(t){e.debug("Reveal",t.word)}),a.on("lobbyChooseWord",function(t){e.debug("Choose word",t),t.words&&(e.debug(t.words.map(function(e){return e+"\n"}).join("")),a.emit("lobbyChooseWord",0))}),a.on("lobbyState",function(t){e.debug("State",t)}),a.on("lobbyPlayerConnected",function(t){e.debug("+ New player",t.name),n.push(t)}),a.on("drawCommands",function(t){return e.drawer.drawCommands(t)}),a.on("canvasClear",this.drawer.clearCanvas),a.on("lobbyPlayerDisconnected",function(t){var a=n.find(function(e){return e.id===t});e.debug("- Player",a.name,"leave"),n=n.filter(function(e){return e.id!==t.id})}),a.on("lobbyPlayerGuessedWord",function(t){var a=n.find(function(e){return e.id===t});e.debug(a.name,"find the word")}),a.on("lobbyGuessClose",function(t){e.debug("Hint:",t)}),a.on("disconnect",function(t){e.debug("Disconnected",t),"io server disconnect"===t?(e.debug("Force reco in 10s"),setTimeout(function(){return a.connect()},1e4)):"io client disconnect"===t&&(e.debug("Client deco in 10s"),setTimeout(function(){return a.connect()},1e4))}),a.on("error",function(e){return console.error("Error::",e)}),a.on("reconnect_error",function(t){e.debug("reco error",t)}),a.on("reconnecting",function(t){e.debug("reco",t)})}},T=A,R=(n("12f6"),Object(m["a"])(T,g,w,!1,null,"ab2bfa1e",null));R.options.__file="Main.vue";var J=R.exports,$={name:"App",data:function(){return{state:0,player:void 0}},methods:{choosePlayer:function(e){this.state=1,this.player=e},reset:function(){this.state=0,this.player=void 0}},components:{Main:J,Selector:v}},B=$,U=(n("034f"),Object(m["a"])(B,r,o,!1,null,null,null));U.options.__file="App.vue";var W=U.exports,L=n("2f62");a["a"].use(L["a"]);var q=new L["a"].Store({state:{},mutations:{},actions:{}});a["a"].config.productionTip=!1,new a["a"]({store:q,render:function(e){return e(W)}}).$mount("#app")},"5f30":function(e,t,n){},"92b4":function(e,t,n){"use strict";var a=n("2be1"),r=n.n(a);r.a},c21b:function(e,t,n){}});
//# sourceMappingURL=app.5d10f016.js.map